<%= tag.meta name: 'robots', content: 'noindex' %>
<% content_for :title, "査定依頼フォーム" %>

<div class="container" style="margin:20px auto;">
    <h2>査定依頼フォーム</h2>
        <div class="container mt-5 mb-5">
            <div class="row">
                <div class="col-md-8 offset-md-2">
                <h2>不動産情報フォーム</h2>
                <% if @assessment.errors.any? %>
                <div class="alert alert-danger alert-dismissible fade show mt-3" role="alert">
                    <strong>入力エラーがあります</strong>
                    <ul class="mb-0">
                    <% @assessment.errors.full_messages.each do |message| %>
                        <li><%= message %></li>
                    <% end %>
                    </ul>
                </div>
                <% end %>
                <%= form_with model: @assessment, local: true, html: { class: 'needs-validation', novalidate: '', data: { turbo: false }} do |form| %>
                    <%= form.hidden_field :branch_id, value: @branch.id%>
                    <%= form.hidden_field :prefecture_id, value: @branch.prefecture_id%>
                    <%= form.hidden_field :city_id, value: @branch.city_id%>
                    <div class="form-group" style="margin-top: 20px;">
                    <%= form.label :last_name, '姓:' %>
                    <%= form.text_field :last_name, class: 'form-control' %>
                    <%= form.label :first_name, '名:' %>
                    <%= form.text_field :first_name, class: 'form-control' %>
                    </div>

                    <div class="form-group" style="margin-top: 20px;">
                    <%= form.label :last_name_kana, 'セイ:' %>
                    <%= form.text_field :last_name_kana, class: 'form-control' %>
                    <%= form.label :first_name_kana, 'メイ:' %>
                    <%= form.text_field :first_name_kana, class: 'form-control' %>
                    </div>

                    <div class="form-group" style="margin-top: 20px;">
                    <%= form.label :tel, '電話番号(ハイフンあり):' %>
                    <%= form.telephone_field :tel, class: 'form-control' %>
                    </div>

                    <div class="form-group" style="margin-top: 20px;">
                    <%= form.label :email, 'メールアドレス:' %>
                    <%= form.email_field :email, class: 'form-control' %>
                    </div>

                    <div class="form-group" style="margin-top: 20px;">
                    <%= form.label :address, '住所:' %>
                    <%= form.text_field :address, class: 'form-control' %>
                    </div>

                    <div class="form-group" style="margin-top: 20px;">
                    <%= form.label :building_type, '建物のタイプ:' %>
                    <%= form.select :building_type, Assessment.building_types.map { |key, _value| [I18n.t("enums.assessment.building_type.#{key}"), key] }, {}, class: 'form-control' %>

                    </div>

                    <div class="form-group" style="margin-top: 20px;">
                    <%= form.label :exclusive_area, '専有面積(平方メートル):' %>
                    <%= form.number_field :exclusive_area, class: 'form-control' %>
                    </div>

                    <div class="form-group" style="margin-top: 20px;">
                    <%= form.label :land_area, '土地面積(平方メートル):' %>
                    <%= form.number_field :land_area, class: 'form-control' %>
                    </div>

                    <div class="form-group" style="margin-top: 20px;">
                    <%= form.label :building_area, '建物面積(平方メートル):' %>
                    <%= form.number_field :building_area, class: 'form-control' %>
                    </div>

                    <div class="form-group" style="margin-top: 20px;">
                    <%= form.label :layout, '間取り:' %>
                   <%= form.select :room_plan_type, Assessment.room_plan_types.map { |key, _value| [I18n.t("enums.assessment.layout.#{key}"), key] }, {}, class: 'form-control' %>
                    </div>

                    <div class="form-group" style="margin-top: 20px;">
                    <%= form.label :constructed_year, '築年数:' %>
                    <%= form.number_field :constructed_year, class: 'form-control' %>
                    </div>

                    <div style="margin-top: 20px;">
                    <%= form.submit '送信', class: 'btn btn-primary' %>
                    </div>
                <% end %>
                </div>
            </div>
        </div>
</div>